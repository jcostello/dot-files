%ul.available-restaurants-list
  - restaurants.each do |restaurant|
    //This list musy have a .restaurant-week-sp class to show the RW badget
    %li.js-restaurants{restaurant.meta_data.merge(class: style_attributes(restaurant)) }
      = link_to restaurant.photo_tag(:big, class: 'thumb', alt: restaurant.name), restaurant.link_path, class: "thumb-container"

      .restaurant-data
        .title-container
          %h2= link_to restaurant.name, restaurant.link_path, class: 'restaurant-name'

          - if restaurant.rated?
            .restaurant-rated
              .stars
                .real-stars{class: restaurant.star_class}
          - else
            .no-rating-spacer

        .restaurant-description
          %p
            = restaurant.truncated_description
          %ul.restaurant-extra-data
            %li= restaurant.address
            %li.divider
            %li= restaurant.class.name
            %li.divider
            %li= restaurant.default_cuisine.name
            %li.divider
            %li= restaurant.price_rating
            - if restaurant.rated?
              %li.divider.last
              %li.rating
                .rating= restaurant.vote_count

          - if restaurant.available?
            %ul.availability-list
              %li
                %strong= t('.availability')
              - restaurant.each_reservation_slot do |slot|
                %li{class: slot.wrapper_classes}= slot.span_tag

            .reserve-now
              - if restaurant.available_with_discount?
                %span.discount
                  %span -
                  %strong #{restaurant.redo_club.discount_percentage.to_i}%
              = link_to t('.book'), restaurant.link_path, class: 'btn'

            = discount_label(restaurant, class: 'badge-desc') if restaurant.available_with_discount?

          - else
            %ul.without-availability-message
              %li
                %em= t('.without-availability-message')
