require "csv"

def self.suspended
  CSV.foreach("suspended.csv") do |row|
    row.each do |id|
      take_down_restaurant(id)
    end
  end
end

def self.take_down_restaurant(id)
  begin
    restaurant = Redo::Restaurant.find(id)
    restaurant.status = Redo::Restaurant::STATUS_DOWN
    restaurant.down_reason = "other"
    restaurant.save
  rescue Exception => e
    puts e
  end
end

suspended
